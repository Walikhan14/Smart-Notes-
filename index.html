<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>My Notepad</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: #f9f9f9;
      display: flex; height: 100vh;
    }
    /* Sidebar */
    #sidebar {
      width: 30%; background: #fff;
      border-right: 1px solid #ddd;
      overflow-y: auto; padding: 10px;
    }
    #sidebar h2 {
      margin: 0 0 10px 0; padding: 10px;
      background: #4CAF50; color: white;
      font-size: 18px; border-radius: 6px;
    }
    #notesList {
      list-style: none; padding: 0; margin: 0;
    }
    #notesList li {
      display: flex; justify-content: space-between;
      align-items: center;
      padding: 8px 10px; margin: 5px 0;
      background: #f4f4f4; border: 1px solid #ddd;
      border-radius: 6px; cursor: pointer;
    }
    #notesList li span {
      flex: 1;
    }
    #notesList li button {
      background: red; color: white;
      border: none; border-radius: 4px;
      padding: 5px 10px; cursor: pointer;
      font-size: 12px;
    }
    #notesList li button:hover {
      background: darkred;
    }

    /* Editor */
    #editor {
      flex: 1; padding: 20px;
      display: flex; flex-direction: column;
    }
    input, textarea {
      margin: 5px 0; padding: 10px;
      font-size: 16px; border: 1px solid #ccc;
      border-radius: 6px;
    }
    textarea { flex: 1; resize: none; }
    button {
      margin-top: 10px; padding: 10px;
      font-size: 16px; cursor: pointer;
      border: none; border-radius: 6px;
      background: #4CAF50; color: white;
    }
    button:hover { background: #45a049; }
    .secondary {
      background: #777 !important;
    }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div id="sidebar">
    <h2>ðŸ“’ My Notes</h2>
    <ul id="notesList"></ul>
    <button class="secondary" onclick="clearAllNotes()">Clear All Notes</button>
  </div>

  <!-- Editor -->
  <div id="editor">
    <input type="text" id="title" placeholder="Note title...">
    <textarea id="content" placeholder="Write your note here..."></textarea>
    <button onclick="saveNote()">Save Note</button>
    <button class="secondary" onclick="clearEditor()">Clear</button>
  </div>

  <script>
    let currentIndex = null;

    function saveNote(){
      let title = document.getElementById("title").value.trim();
      let content = document.getElementById("content").value.trim();

      if(title === "" || content === ""){
        alert("Please enter title and note!");
        return;
      }

      let notes = JSON.parse(localStorage.getItem("notes") || "[]");

      if(currentIndex === null){
        notes.push({title, content});
      } else {
        notes[currentIndex] = {title, content};
      }

      localStorage.setItem("notes", JSON.stringify(notes));
      loadNotes();
      clearEditor();
    }

    function loadNotes(){
      let notes = JSON.parse(localStorage.getItem("notes") || "[]");
      let list = document.getElementById("notesList");
      list.innerHTML = "";

      notes.forEach((note, index) => {
        let li = document.createElement("li");

        let span = document.createElement("span");
        span.textContent = note.title;
        span.onclick = () => openNote(index);

        let delBtn = document.createElement("button");
        delBtn.textContent = "Delete";
        delBtn.onclick = (e) => {
          e.stopPropagation(); // stop from opening note
          deleteNote(index);
        };

        li.appendChild(span);
        li.appendChild(delBtn);
        list.appendChild(li);
      });
    }

    function openNote(index){
      let notes = JSON.parse(localStorage.getItem("notes") || "[]");
      document.getElementById("title").value = notes[index].title;
      document.getElementById("content").value = notes[index].content;
      currentIndex = index;
    }

    function deleteNote(index){
      let notes = JSON.parse(localStorage.getItem("notes") || "[]");
      if(confirm("Delete this note?")){
        notes.splice(index, 1);
        localStorage.setItem("notes", JSON.stringify(notes));
        loadNotes();
        clearEditor();
      }
    }

    function clearEditor(){
      document.getElementById("title").value = "";
      document.getElementById("content").value = "";
      currentIndex = null;
    }

    function clearAllNotes(){
      if(confirm("Delete all notes?")){
        localStorage.removeItem("notes");
        loadNotes();
        clearEditor();
      }
    }

    window.onload = loadNotes;
  </script>

</body>
</html>